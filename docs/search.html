---
layout: default
title: æ¤œç´¢
---

<h2>ğŸ” å…¨æ–‡æ¤œç´¢</h2>
<input type="text" id="search-box" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›..." style="width:100%; padding: 0.5rem; font-size: 1.1rem;">
<ul id="search-results" style="margin-top: 1rem; list-style: none; padding: 0;"></ul>

<script src="https://unpkg.com/lunr/lunr.js"></script>
<script src="https://unpkg.com/lunr-languages/lunr.stemmer.support.js"></script>
<script src="https://unpkg.com/lunr-languages/tinyseg.js"></script>
<script src="https://unpkg.com/lunr-languages/lunr.ja.js"></script>
<script>
  let idx = null;
  let docs = [];

  // search.jsonã‚’èª­ã¿è¾¼ã‚€
  fetch("{{ site.baseurl }}/search.json")
    .then(response => response.json())
    .then(data => {
      docs = data;
      idx = lunr(function () {
        this.use('lunr.ja');
        this.ref('url');
        this.field('title');
        this.field('content');

        docs.forEach(function (doc) {
          this.add(doc);
        }, this);
      });
    });

  // å…¥åŠ›ã«å¿œã˜ã¦æ¤œç´¢ã‚’å®Ÿè¡Œ
  document.getElementById('search-box').addEventListener('input', function () {
    const query = this.value.trim();
    const resultBox = document.getElementById('search-results');
    resultBox.innerHTML = '';

    if (query.length > 1 && idx) {
      const results = idx.search(query);
      if (results.length > 0) {
        results.forEach(result => {
          const match = docs.find(d => d.url === result.ref);
          const li = document.createElement('li');
          li.innerHTML = `<a href="${match.url}">${match.title}</a>`;
          resultBox.appendChild(li);
        });
      } else {
        resultBox.innerHTML = '<li>ä¸€è‡´ã™ã‚‹è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</li>';
      }
    }
  });
</script>
